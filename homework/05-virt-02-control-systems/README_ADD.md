# Домашняя работа к занятию "5.2. Системы управления виртуализацией"  
# Доработка
## Задача 3

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был бы выбор, то создавали ли вы бы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.  

__ОТВЕТ:__ Одно дело если на KVM в ВМ стоит Linux и в ней крутятся Docker-контейнеры с Linux, то тут никаких больших проблем и недостатков не будет, за исключением незначительного снижения производительности.  
Другое дело если в Hyper-v в ВМ поставить Linux, а внутри нее в VitrualBox-e запустить Windows, то проблемы могут не заставить себя ждать. Начиная от банального снижения производительности до неработоспособности каких-либо устройств.  
Поэтому лучше избегать по возможности одновременное использование нескольких систем управления виртуализацией, или использовать наиболее совместимые на уровне ОС и гипервизоров комбинации.

>В данном задании вопрос касался совместного использования разных систем управления виртуализацией. Например, часть серверов запущена на ESX, а часть на XEN или Hyper-V. То, что описали вы, называется nested virtualization (вложенная виртуализация) и применяется чаще всего для тестирования, но не для прода.
>Подправите ответ?  

__ОТВЕТ:__ Если существует необходимость одновременного использования разных ОС (Windows, Linux), то не вижу ничего страшного если для ВМ с Windows будут работать серверы с Hyper-V, а для Linux, например, KVM. Нормальное разделение ВМ по наиболее совместитмым с ними гипервизорами.  
Другое дело если зоопарк ОС на ВМ сопровождается разнообразием систем виртуализации, такого подхода конечно лучше избегать, чтобы уменьшить разнообразие и сложность скриптов для обслуживания этих ВМ и их настроек (какая ОС на каком гипервизоре и т.д.).  
Считаю, что лучше всё свести к одной системе управления виртуализацией (в крайнем случае к 2-м), которая более-менее сносно всё поддерживает и имеет хорошую поддержку автоматизации типовых операций.